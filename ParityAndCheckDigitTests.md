# Parity and check digit tests #

Each digit in an EAN-13 barcode has three possible codes, two (odd and even parity) for the left-hand group of digits and one for the right-hand group. The even parity digit codes are the reverse-order, 1’s-complement of the odd parity codes. For example, the odd parity left-hand code for ‘0’ is ‘0001101’, which is ‘1011000’ reversed, with a 1’s complement of ‘0100111’, which is the even parity left-hand code for ‘0'. In the left-hand group of digits the first digit read (which is actually the second digit in the 13-digit EAN-13 barcode, because the first digit is implied) always has odd parity, and the other digits may have either odd or even parity. The right-hand digit codes are simply the 1’s complement of the odd parity left-hand digit codes.

The parity of the digits three through six in the left-hand code determines the implied (first) digit in the EAN-13 barcode. Their parity is found by correlating the even and odd parity versions of each digit and choosing the best match. The parity is then used to create a 5-bit number which is used as an index into a table to give the first digit. Note that since there are 32 possible values for a 5-bit number and only 10 possible first digits this allows us to reject 22/32 of the possible parity combinations, serving as a weak test for correct determination of the parity of the left-hand digits.
The last digit of the barcode must pass a check digit test based on the other digits in the barcode. This check digit test involves summing the odd and even digits (counting right to left) in the barcode and multiplying the odd digit sum by 3. The two numbers are added together. The check digit is the number from 0-9 which, added to this sum, gives a multiple of 10.

There are therefore two independent tests for consistency in EAN-13 barcodes. The first comes from the generation of the implied first digit, eliminating about 2/3 incorrect barcode readings. The second comes from the check digit test, eliminating 9/10 incorrect readings.

An additional test is possible if we know more about the barcode. Barcodes are assigned according to the country where the product is marketed. If the country is known then the first one to three barcode digits can be determined. We have not implemented this test, since we did not want to make our barcode reader country-specific. However, this would be a powerful test since it would eliminate between 9/10 and 999/1000 (depending on the number of digits in the country code) incorrect barcode readings.